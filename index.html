<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MR7 - OFFICIAL</title>

<style>
body{
 margin:0;padding:20px;text-align:center;
 font-family:Segoe UI;
 background:#fff;color:#333;
 transition:.4s;
}
body.dark{background:#111;color:#eee}

.hidden{display:none}
input,button{padding:10px;margin:6px;border-radius:8px}
button{cursor:pointer}

.box{
 max-width:350px;
 margin:60px auto;
 padding:20px;
 border:2px solid green;
 border-radius:15px;
}

.chat{
 max-width:400px;
 margin:auto;
 border:2px solid green;
 border-radius:15px;
 padding:10px;
 height:420px;
 display:flex;
 flex-direction:column;
}
.messages{
 flex:1;
 overflow-y:auto;
 text-align:left;
}
.msg{
 padding:8px 12px;
 margin:6px;
 border-radius:12px;
 max-width:80%;
}
.user{background:#4caf50;color:white;margin-left:auto}
.bot{background:#ddd;color:black}
body.dark .bot{background:#333;color:#fff}

.status{font-size:13px;color:lime;margin-bottom:5px}
</style>
</head>

<body>

<!-- ğŸ” LOGIN / SIGNUP -->
<div id="authBox" class="box">
<h2>ğŸ” Login / Signup</h2>
<input id="email" placeholder="Email"><br>
<input id="password" type="password" placeholder="Password"><br>
<button onclick="signup()">Signup</button>
<button onclick="login()">Login</button>
</div>

<!-- ğŸ¤– AI CHAT -->
<div id="chatBox" class="hidden">
<div class="status">ğŸŸ¢ Online</div>

<div class="chat">
<div class="messages" id="messages"></div>
<input id="chatInput" placeholder="Type message..."
 onkeydown="if(event.key==='Enter')sendMsg()">
<button onclick="sendMsg()">Send</button>
</div>

<br>
<button onclick="logout()">Logout</button>
<button onclick="toggleDark()">ğŸŒ™ Dark</button>
</div>

<!-- ğŸ”Š notification sound -->
<audio id="ping">
<source src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3">
</audio>

<!-- ğŸ”¥ FIREBASE -->
<script type="module">
import { initializeApp } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
 getAuth,
 createUserWithEmailAndPassword,
 signInWithEmailAndPassword,
 signOut,
 onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* ğŸ”´ à¤…à¤ªà¤¨à¤¾ Firebase config à¤¯à¤¹à¤¾à¤‚ à¤¡à¤¾à¤²à¤¨à¤¾ */
const firebaseConfig = {
 apiKey: "YOUR_API_KEY",
 authDomain: "YOUR_PROJECT.firebaseapp.com",
 projectId: "YOUR_PROJECT_ID",
 appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.signup = () =>{
 createUserWithEmailAndPassword(
  auth,
  email.value,
  password.value
 ).then(()=>alert("Signup successful"))
 .catch(e=>alert(e.message));
};

window.login = () =>{
 signInWithEmailAndPassword(
  auth,
  email.value,
  password.value
 ).catch(()=>alert("Wrong login"));
};

window.logout = () => signOut(auth);

onAuthStateChanged(auth,user=>{
 if(user){
  authBox.classList.add("hidden");
  chatBox.classList.remove("hidden");
 }else{
  authBox.classList.remove("hidden");
  chatBox.classList.add("hidden");
 }
});
</script>

<script>
/* ğŸŒ™ DARK MODE */
if(localStorage.dark=="on")document.body.classList.add("dark");
function toggleDark(){
 document.body.classList.toggle("dark");
 localStorage.dark=
 document.body.classList.contains("dark")?"on":"off";
}

/* ğŸ¤– AI LOGIC */
function sendMsg(){
 let q=chatInput.value.trim();
 if(!q)return;

 addMsg(q,"user");
 chatInput.value="";

 setTimeout(()=>{
  let a = smartReply(q);
  addMsg(a,"bot");
  ping.play();
 },600);
}

function addMsg(text,cls){
 let d=document.createElement("div");
 d.className="msg "+cls;
 d.innerText=text;
 messages.appendChild(d);
 messages.scrollTop=messages.scrollHeight;
}

/* ğŸ§  SMART AI (Hindi + English) */
function smartReply(q){
 q=q.toLowerCase();

 if(q.includes("hello")||q.includes("hi"))
  return "Hello ğŸ‘‹ main MR7 AI hoon";

 if(q.includes("kaise")||q.includes("how are"))
  return "Main bilkul theek hoon ğŸ˜„";

 if(q.includes("joke")){
  const jokes=[
   "Why did the computer sneeze? ğŸ¤§ Virus!",
   "Teacher: error kya hai? Student: sir aap ğŸ˜…",
   "Life without coding is like phone without charger ğŸ”‹"
  ];
  return jokes[Math.floor(Math.random()*jokes.length)];
 }

 if(q.match(/[\d+\-*/. ]+/)){
  try{return eval(q)}catch{return "Calculation error"};
 }

 return "Samajh raha hoon ğŸ¤” thoda aur clear bolo";
}
</script>

</body>
</html>
