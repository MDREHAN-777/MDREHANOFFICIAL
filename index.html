<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>- MR7 WORLD -/title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:Segoe UI, Arial;
  background:#000;
  color:#fff;
  overflow-x:hidden;
}

:root{
  --neon:#00ff00;
  --neon2:#00ccff;
  --bg:#050505;
}

a{text-decoration:none;color:inherit;}

header{
  width:100%;
  padding:14px 18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,0.92);
  border-bottom:2px solid rgba(0,255,0,0.35);
  position:sticky;
  top:0;
  z-index:9999;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
}

.logoCircle{
  width:45px;
  height:45px;
  border-radius:50%;
  background:radial-gradient(circle,#00ff00,#003300);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  color:#000;
  box-shadow:0 0 20px #00ff00;
  border:2px solid rgba(0,255,0,0.7);
}

.brandText{
  font-size:20px;
  font-weight:bold;
  color:var(--neon);
  text-shadow:0 0 10px var(--neon);
}

.brandText span{
  font-size:13px;
  font-weight:normal;
  color:#fff;
  opacity:0.8;
}

.status{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  opacity:0.9;
}

.dot{
  width:12px;height:12px;
  border-radius:50%;
  background:lime;
  box-shadow:0 0 10px lime;
}

.menuBtn{
  font-size:28px;
  cursor:pointer;
  color:var(--neon);
  text-shadow:0 0 10px var(--neon);
}

.sidebar{
  position:fixed;
  top:0;
  right:-300px;
  width:300px;
  height:100%;
  background:rgba(0,0,0,0.97);
  border-left:2px solid rgba(0,255,0,0.35);
  padding:18px;
  transition:0.4s;
  z-index:99999;
}

.sidebar.active{right:0;}

.sidebar h2{
  color:var(--neon);
  text-shadow:0 0 10px var(--neon);
  margin-bottom:12px;
}

.searchBox{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(0,255,0,0.5);
  background:#111;
  color:#fff;
  outline:none;
  margin-bottom:12px;
}

.sidebar button{
  width:100%;
  padding:12px;
  margin:7px 0;
  border:none;
  border-radius:12px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px rgba(0,255,0,0.7);
  transition:0.25s;
}

.sidebar button:hover{transform:scale(1.04);}

.closeBtn{
  background:red !important;
  color:#fff !important;
  box-shadow:0 0 15px red !important;
}

.container{
  padding:25px;
  text-align:center;
}

.page{display:none;animation:fade 0.35s ease;}
.page.active{display:block;}

@keyframes fade{
  from{opacity:0;transform:scale(0.96);}
  to{opacity:1;transform:scale(1);}
}

.hero{
  margin-top:30px;
}
.hero h1{
  font-size:34px;
  color:var(--neon);
  text-shadow:0 0 25px var(--neon);
}
.hero p{
  margin-top:8px;
  opacity:0.8;
  font-size:15px;
}

.card{
  width:min(850px,95%);
  margin:25px auto;
  padding:22px;
  border-radius:22px;
  background:rgba(0,0,0,0.78);
  border:2px solid rgba(0,255,0,0.35);
  box-shadow:0 0 30px rgba(0,255,0,0.2);
}

.btn{
  padding:12px 20px;
  border:none;
  border-radius:12px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px rgba(0,255,0,0.8);
  margin:7px;
  transition:0.25s;
}
.btn:hover{transform:scale(1.06);}

.footer{
  margin-top:40px;
  opacity:0.6;
  font-size:13px;
}

canvas{
  border-radius:18px;
  border:2px solid rgba(0,255,0,0.6);
  background:#020202;
  box-shadow:0 0 25px rgba(0,255,0,0.4);
}

.stats{
  font-size:16px;
  color:var(--neon);
  text-shadow:0 0 10px rgba(0,255,0,0.6);
}

.chatBox{
  width:100%;
  height:280px;
  overflow-y:auto;
  text-align:left;
  padding:15px;
  border-radius:15px;
  background:#080808;
  border:1px solid rgba(0,255,0,0.4);
  margin-bottom:10px;
}

.msgAI{color:#00ff00;font-weight:bold;}
.msgUser{color:#00ccff;font-weight:bold;}

.input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(0,255,0,0.5);
  background:#111;
  color:#fff;
  outline:none;
}

.particles{
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  z-index:-1;
  overflow:hidden;
}

.particles span{
  position:absolute;
  width:5px;height:5px;
  border-radius:50%;
  background:rgba(0,255,0,0.7);
  animation:float 10s linear infinite;
}

@keyframes float{
  from{transform:translateY(110vh) scale(0.6);opacity:0;}
  to{transform:translateY(-20vh) scale(1.3);opacity:1;}
}

.fullscreenBtn{
  position:fixed;
  bottom:14px;
  right:14px;
  z-index:9999;
  padding:12px 16px;
  border-radius:14px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  border:none;
  cursor:pointer;
  box-shadow:0 0 15px rgba(0,255,0,0.9);
}
</style>
</head>

<body>

<div class="particles" id="particles"></div>

<header>
  <div class="brand">
    <div class="logoCircle">MR7</div>
    <div class="brandText">
      MR7 WORLD <span>‚úî Verified</span>
    </div>
  </div>

  <div class="status">
    <div class="dot" id="statusDot"></div>
    <div id="statusText">Online</div>
  </div>

  <div class="menuBtn" onclick="toggleMenu()">‚ãÆ</div>
</header>

<div class="sidebar" id="sidebar">
  <h2>Menu</h2>
  <input class="searchBox" id="searchMenu" placeholder="Search page..." onkeyup="searchPages()" />

  <button onclick="openPage('home')">üè† Home</button>
  <button onclick="openPage('ai')">ü§ñ MR7 AI</button>
  <button onclick="openPage('snake')">üêç Snake Game</button>
  <button onclick="openPage('car')">üöó Car Racing</button>
  <button onclick="openPage('profile')">üë§ Profile</button>
  <button onclick="openPage('settings')">‚öô Settings</button>
  <button class="closeBtn" onclick="toggleMenu()">Close</button>
</div>

<button class="fullscreenBtn" onclick="goFullscreen()">üì± Fullscreen</button>

<div class="container">

  <!-- HOME -->
  <div class="page active" id="home">
    <div class="hero">
      <h1>Welcome to MR7 WORLD</h1>
      <p>Gaming + AI + Cool Features üòéüî•</p>
    </div>

    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">Main Menu</h2>
      <br>
      <button class="btn" onclick="openPage('ai')">ü§ñ Open MR7 AI</button>
      <button class="btn" onclick="openPage('snake')">üêç Play Snake</button>
      <button class="btn" onclick="openPage('car')">üöó Play Car Racing</button>
    </div>

    <div class="footer">¬© 2026 MR7 WORLD | Created by MR7</div>
  </div>

  <!-- AI -->
  <div class="page" id="ai">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">MR7 AI Chat</h2>
      <p style="opacity:0.8;margin-top:6px;">Real ChatGPT API Powered</p>
      <br>

      <input class="input" id="apiKey" placeholder="Paste OpenAI API Key (sk-...)" />
      <br><br>

      <div class="chatBox" id="chatBox">
        <div class="msgAI">AI: Hello Boss üòé Ask me anything!</div>
      </div>

      <input class="input" id="userInput" placeholder="Type your message..." />

      <br><br>
      <button class="btn" onclick="sendMessage()">Send</button>
      <button class="btn" onclick="clearChat()">Clear</button>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

  <!-- SNAKE -->
  <div class="page" id="snake">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üêç MR7 Snake Game</h2>
      <p style="opacity:0.8;margin-top:6px;">Use Arrow Keys | Start button required</p>
      <br>
      <div class="stats" id="snakeScore">Score: 0 | HighScore: 0</div>
      <br>
      <button class="btn" onclick="startSnake()">Start Snake</button>
      <button class="btn" onclick="openPage('home')">Back</button>
      <br><br>
      <canvas id="snakeCanvas" width="450" height="450"></canvas>
    </div>
  </div>

  <!-- CAR -->
  <div class="page" id="car">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üöó MR7 Car Racing</h2>
      <p style="opacity:0.8;margin-top:6px;">Steering + Nitro Boost + Smooth Speed</p>
      <br>
      <div class="stats" id="carStats">Score: 0 | HighScore: 0 | Speed: 5</div>
      <br>
      <button class="btn" onclick="startCar()">Start Car</button>
      <button class="btn" onclick="openPage('home')">Back</button>
      <br><br>
      <canvas id="carCanvas" width="450" height="560"></canvas>
      <br><br>
      <button class="btn" onclick="activateNitro()">üî• Nitro Boost</button>
    </div>
  </div>

  <!-- PROFILE -->
  <div class="page" id="profile">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üë§ Profile</h2>
      <p style="opacity:0.8;margin-top:10px;">MR7 WORLD Verified User ‚úî</p>
      <br>
      <button class="btn" onclick="window.open('https://instagram.com','_blank')">Instagram</button>
      <button class="btn" onclick="window.open('https://youtube.com','_blank')">YouTube</button>
      <button class="btn" onclick="window.open('https://wa.me/','_blank')">WhatsApp</button>
      <br><br>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

  <!-- SETTINGS -->
  <div class="page" id="settings">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">‚öô Settings</h2>
      <br>
      <button class="btn" onclick="toggleTheme()">Change Theme</button>
      <button class="btn" onclick="resetScores()">Reset Scores</button>
      <br><br>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

</div>

<script>
/* PARTICLES */
const particleBox=document.getElementById("particles");
for(let i=0;i<80;i++){
  let dot=document.createElement("span");
  dot.style.left=Math.random()*100+"%";
  dot.style.top=Math.random()*100+"%";
  dot.style.animationDuration=(6+Math.random()*10)+"s";
  dot.style.opacity=Math.random();
  particleBox.appendChild(dot);
}

/* ONLINE OFFLINE */
function updateStatus(){
  const statusText=document.getElementById("statusText");
  const statusDot=document.getElementById("statusDot");
  if(navigator.onLine){
    statusText.innerText="Online";
    statusDot.style.background="lime";
    statusDot.style.boxShadow="0 0 10px lime";
  }else{
    statusText.innerText="Offline";
    statusDot.style.background="red";
    statusDot.style.boxShadow="0 0 10px red";
  }
}
window.addEventListener("online",updateStatus);
window.addEventListener("offline",updateStatus);
updateStatus();

/* MENU */
function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("active");
}

function openPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.getElementById("sidebar").classList.remove("active");
}

function searchPages(){
  let val=document.getElementById("searchMenu").value.toLowerCase();
  document.querySelectorAll("#sidebar button").forEach(btn=>{
    if(btn.innerText.toLowerCase().includes(val) || val===""){
      btn.style.display="block";
    }else{
      btn.style.display="none";
    }
  });
}

/* FULLSCREEN */
function goFullscreen(){
  if(document.documentElement.requestFullscreen){
    document.documentElement.requestFullscreen();
  }
}

/* THEME */
let theme=0;
function toggleTheme(){
  theme++;
  if(theme%2===1){
    document.body.style.background="#fff";
    document.body.style.color="#000";
  }else{
    document.body.style.background="#000";
    document.body.style.color="#fff";
  }
}

/* RESET */
function resetScores(){
  localStorage.removeItem("mr7_snake_high");
  localStorage.removeItem("mr7_car_high");
  alert("Reset Done Boss üòé");
}

/* ---------------- SNAKE GAME (FIXED) ---------------- */
let snakeInterval=null;
let snakeStarted=false;

function startSnake(){
  if(snakeStarted) return;
  snakeStarted=true;

  const canvas=document.getElementById("snakeCanvas");
  const ctx=canvas.getContext("2d");

  const box=18;
  let snake=[{x:box*10,y:box*10}];
  let dir="RIGHT";

  let score=0;
  let high=parseInt(localStorage.getItem("mr7_snake_high")||"0");

  let food={
    x:Math.floor(Math.random()*24)*box,
    y:Math.floor(Math.random()*24)*box
  };

  function updateScore(){
    document.getElementById("snakeScore").innerText=`Score: ${score} | HighScore: ${high}`;
  }
  updateScore();

  window.addEventListener("keydown",(e)=>{
    if(e.key==="ArrowLeft" && dir!=="RIGHT") dir="LEFT";
    if(e.key==="ArrowUp" && dir!=="DOWN") dir="UP";
    if(e.key==="ArrowRight" && dir!=="LEFT") dir="RIGHT";
    if(e.key==="ArrowDown" && dir!=="UP") dir="DOWN";
  });

  function collision(head,arr){
    return arr.some(p=>p.x===head.x && p.y===head.y);
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // background grid
    for(let x=0;x<canvas.width;x+=box){
      for(let y=0;y<canvas.height;y+=box){
        ctx.strokeStyle="rgba(0,255,0,0.06)";
        ctx.strokeRect(x,y,box,box);
      }
    }

    // food glow
    ctx.beginPath();
    ctx.fillStyle="red";
    ctx.shadowColor="red";
    ctx.shadowBlur=20;
    ctx.arc(food.x+box/2,food.y+box/2,7,0,Math.PI*2);
    ctx.fill();
    ctx.shadowBlur=0;

    // snake
    for(let i=0;i<snake.length;i++){
      ctx.fillStyle = i===0 ? "#00ff00" : "#00aa00";
      ctx.shadowColor="#00ff00";
      ctx.shadowBlur=10;
      ctx.fillRect(snake[i].x,snake[i].y,box,box);
      ctx.shadowBlur=0;
    }

    let headX=snake[0].x;
    let headY=snake[0].y;

    if(dir==="LEFT") headX-=box;
    if(dir==="RIGHT") headX+=box;
    if(dir==="UP") headY-=box;
    if(dir==="DOWN") headY+=box;

    // eat
    if(headX===food.x && headY===food.y){
      score++;
      if(score>high){
        high=score;
        localStorage.setItem("mr7_snake_high",high);
      }
      food={
        x:Math.floor(Math.random()*24)*box,
        y:Math.floor(Math.random()*24)*box
      };
    }else{
      snake.pop();
    }

    const newHead={x:headX,y:headY};

    if(headX<0||headY<0||headX>=canvas.width||headY>=canvas.height||collision(newHead,snake)){
      clearInterval(snakeInterval);
      snakeStarted=false;
      alert("Game Over Boss üò≠ Score: "+score);
      return;
    }

    snake.unshift(newHead);
    updateScore();
  }

  snakeInterval=setInterval(draw,90);
}

/* ---------------- CAR GAME (FIXED + REALISTIC) ---------------- */
let carInterval=null;
let carStarted=false;
let nitro=false;

function startCar(){
  if(carStarted) return;
  carStarted=true;

  const canvas=document.getElementById("carCanvas");
  const ctx=canvas.getContext("2d");

  let score=0;
  let high=parseInt(localStorage.getItem("mr7_car_high")||"0");

  let baseSpeed=5;
  let speed=baseSpeed;

  let carX=canvas.width/2 - 22;
  let carY=canvas.height-110;

  let left=false,right=false;

  let obstacles=[];

  window.addEventListener("keydown",(e)=>{
    if(e.key==="ArrowLeft") left=true;
    if(e.key==="ArrowRight") right=true;
  });

  window.addEventListener("keyup",(e)=>{
    if(e.key==="ArrowLeft") left=false;
    if(e.key==="ArrowRight") right=false;
  });

  function updateStats(){
    document.getElementById("carStats").innerText=`Score: ${score} | HighScore: ${high} | Speed: ${speed}`;
  }
  updateStats();

  function spawnObstacle(){
    obstacles.push({
      x:Math.random()*(canvas.width-60)+10,
      y:-80,
      w:45,
      h:70
    });
  }

  function drawRoad(){
    ctx.fillStyle="#0a0a0a";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // road border glow
    ctx.strokeStyle="rgba(0,255,0,0.3)";
    ctx.lineWidth=4;
    ctx.strokeRect(8,8,canvas.width-16,canvas.height-16);

    // center lines
    ctx.strokeStyle="rgba(255,255,255,0.15)";
    ctx.lineWidth=5;
    for(let y=0;y<canvas.height;y+=50){
      ctx.beginPath();
      ctx.moveTo(canvas.width/2,y);
      ctx.lineTo(canvas.width/2,y+25);
      ctx.stroke();
    }
  }

  function drawPlayerCar(){
    // car body
    ctx.fillStyle="#00ff00";
    ctx.shadowColor="#00ff00";
    ctx.shadowBlur=25;
    ctx.fillRect(carX,carY,45,80);
    ctx.shadowBlur=0;

    // window
    ctx.fillStyle="#000";
    ctx.fillRect(carX+10,carY+12,25,20);

    // wheels
    ctx.fillStyle="#222";
    ctx.fillRect(carX-6,carY+10,6,18);
    ctx.fillRect(carX-6,carY+52,6,18);
    ctx.fillRect(carX+45,carY+10,6,18);
    ctx.fillRect(carX+45,carY+52,6,18);

    // nitro fire
    if(nitro){
      ctx.fillStyle="orange";
      ctx.shadowColor="orange";
      ctx.shadowBlur=20;
      ctx.beginPath();
      ctx.arc(carX+10,carY+82,8,0,Math.PI*2);
      ctx.arc(carX+35,carY+82,8,0,Math.PI*2);
      ctx.fill();
      ctx.shadowBlur=0;
    }
  }

  function drawObstacles(){
    obstacles.forEach(o=>{
      ctx.fillStyle="red";
      ctx.shadowColor="red";
      ctx.shadowBlur=15;
      ctx.fillRect(o.x,o.y,o.w,o.h);
      ctx.shadowBlur=0;

      ctx.fillStyle="#000";
      ctx.fillRect(o.x+10,o.y+10,25,18);
    });
  }

  function collision(a,b){
    return (
      a.x < b.x + b.w &&
      a.x + a.w > b.x &&
      a.y < b.y + b.h &&
      a.y + a.h > b.y
    );
  }

  function update(){
    drawRoad();

    // smooth steering
    if(left) carX-=8;
    if(right) carX+=8;

    if(carX<15) carX=15;
    if(carX>canvas.width-60) carX=canvas.width-60;

    if(Math.random()<0.03) spawnObstacle();

    obstacles.forEach(o=>{
      o.y += speed;
    });

    obstacles = obstacles.filter(o=>o.y<canvas.height+100);

    // collision check
    let player={x:carX,y:carY,w:45,h:80};
    for(let o of obstacles){
      if(collision(player,o)){
        clearInterval(carInterval);
        carStarted=false;
        nitro=false;
        alert("Game Over Boss üò≠ Score: "+score);
        return;
      }
    }

    score++;
    if(score>high){
      high=score;
      localStorage.setItem("mr7_car_high",high);
    }

    // speed increase
    if(score%500===0) baseSpeed++;

    speed = nitro ? baseSpeed+5 : baseSpeed;

    updateStats();
    drawObstacles();
    drawPlayerCar();
  }

  carInterval=setInterval(update,30);
}

function activateNitro(){
  if(!carStarted) return;
  if(nitro) return;

  nitro=true;
  setTimeout(()=>{
    nitro=false;
  },3000);
}

/* ---------------- MR7 AI CHATGPT API ---------------- */
async function sendMessage(){
  const chatBox=document.getElementById("chatBox");
  const input=document.getElementById("userInput");
  const apiKey=document.getElementById("apiKey").value.trim();

  let userText=input.value.trim();
  if(userText==="") return;

  chatBox.innerHTML += `<div class="msgUser">You: ${userText}</div>`;
  input.value="";

  if(apiKey==="" || !apiKey.startsWith("sk-")){
    chatBox.innerHTML += `<div class="msgAI">AI: Boss please paste OpenAI API key (sk-...) to enable real ChatGPT power.</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
    return;
  }

  chatBox.innerHTML += `<div class="msgAI" id="typing">AI: typing...</div>`;
  chatBox.scrollTop=chatBox.scrollHeight;

  try{
    const response = await fetch("https://api.openai.com/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer "+apiKey
      },
      body:JSON.stringify({
        model:"gpt-4o-mini",
        messages:[
          {role:"system",content:"You are MR7 AI. Always reply in Hinglish only. No Hindi script. Be friendly, helpful, and give clear answers."},
          {role:"user",content:userText}
        ],
        max_tokens:220
      })
    });

    const data = await response.json();
    document.getElementById("typing").remove();

    let reply = data.choices?.[0]?.message?.content || "Boss error! No reply received.";
    chatBox.innerHTML += `<div class="msgAI">AI: ${reply}</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;

  }catch(err){
    document.getElementById("typing").remove();
    chatBox.innerHTML += `<div class="msgAI">AI: Boss API error! Check internet or API key.</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
  }
}

function clearChat(){
  document.getElementById("chatBox").innerHTML=`<div class="msgAI">AI: Hello Boss üòé Ask me anything!</div>`;
}
</script>

</body>
</html>
