<script>
/* ELEMENTS */
const home=document.getElementById("home");
const contact=document.getElementById("contact");
const ai=document.getElementById("ai");
const menuBox=document.getElementById("menuBox");
const popup=document.getElementById("popup");

/* DARK MODE SAVE */
if(localStorage.getItem("dark")==="on"){
 document.body.classList.add("dark-mode");
}
function toggleDark(){
 document.body.classList.toggle("dark-mode");
 localStorage.setItem(
  "dark",
  document.body.classList.contains("dark-mode")?"on":"off"
 );
}

/* MENU */
function toggleMenu(){
 menuBox.style.display=menuBox.style.display==="block"?"none":"block";
}
document.addEventListener("click",e=>{
 if(!menuBox.contains(e.target) && !e.target.classList.contains("menu")){
  menuBox.style.display="none";
 }
});

/* NAV */
function hideAll(){
 home.classList.remove("active");
 contact.classList.remove("active");
 ai.classList.remove("active");
}
function openHome(){hideAll();home.classList.add("active")}
function openContact(){hideAll();contact.classList.add("active")}
function openAI(){hideAll();ai.classList.add("active")}

/* CONTACT */
function sendMail(){
 let n=name.value,m=mobile.value,msg=message.value;
 if(!n||!m||!msg){alert("Fill all fields");return;}
 window.location.href=
 `mailto:mrrehanofficial.1777@gmail.com?subject=Website Contact&body=Name:${n}%0AMobile:${m}%0AMessage:${msg}`;
}

/* =========================
   ðŸ¤– MR7 SMART AI
========================= */
function askAI(){
 let q = aiInput.value.trim();
 if(!q) return;

 aiMessages.innerHTML += `<div class="ai-user">You: ${q}</div>`;

 let answer = "";

 // Maths detect (10+10, 5*6 etc)
 try{
   if(/^[0-9+\-*/ ().]+$/.test(q)){
     answer = eval(q);
   }
 }catch(e){}

 // Text replies
 if(answer === ""){
   let x = q.toLowerCase();

   if(x.includes("hello") || x.includes("hi")){
     answer = "Hello ðŸ‘‹ main MR7 AI hoon";
   }
   else if(x.includes("name")){
     answer = "Mera naam MR7 AI hai ðŸ¤–";
   }
   else if(x.includes("who are you")){
     answer = "Main MR7 World website ka AI assistant hoon";
   }
   else if(x.includes("rehan")){
     answer = "MD Rehan ek creator aur MR7 World ke owner hain ðŸ”¥";
   }
   else{
     answer = "Interesting question ðŸ¤” abhi main basic AI hoon, future me aur smart banunga ðŸ˜Ž";
   }
 }

 aiMessages.innerHTML += `<div class="ai-bot">MR7: ${answer}</div>`;
 aiInput.value="";
 aiMessages.scrollTop = aiMessages.scrollHeight;
}

/* POPUP */
setTimeout(()=>{
 popup.style.display="block";
 setTimeout(()=>popup.style.display="none",4000);
},1000);

/* ANIMATION */
document.querySelectorAll(".fade").forEach((e,i)=>{
 setTimeout(()=>e.classList.add("show"),500*i);
});
document.querySelectorAll(".typing").forEach(el=>{
 let t=el.innerText;el.innerText="";
 let i=0;
 (function type(){
  if(i<t.length){el.innerText+=t[i++];setTimeout(type,100);}
 })();
});
</script>
