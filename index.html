<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MR7 WORLD</title>

<style>
  * {margin:0;padding:0;box-sizing:border-box;font-family:Arial, Helvetica, sans-serif;}
  body{
    background:#050510;
    color:white;
    overflow-x:hidden;
  }

  /* ======= TOP BAR ======= */
  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 18px;
    background:rgba(0,0,0,0.6);
    backdrop-filter:blur(10px);
    position:sticky;
    top:0;
    z-index:999;
    border-bottom:1px solid rgba(255,255,255,0.1);
  }

  .logo{
    display:flex;
    align-items:center;
    gap:10px;
  }
  .logo img{
    width:42px;
    height:42px;
    border-radius:50%;
    border:2px solid cyan;
  }
  .logo h2{
    font-size:18px;
    color:#00fff7;
    font-weight:bold;
  }
  .badge{
    background:#00ff5a;
    color:black;
    font-size:12px;
    padding:2px 6px;
    border-radius:6px;
    font-weight:bold;
  }

  .status{
    font-size:14px;
    font-weight:bold;
    padding:6px 10px;
    border-radius:10px;
    background:rgba(255,255,255,0.08);
  }

  /* ======= PARTICLES BACKGROUND ======= */
  canvas#particles{
    position:fixed;
    top:0;
    left:0;
    z-index:-5;
  }

  /* ======= MAIN ======= */
  .container{
    padding:18px;
    max-width:1100px;
    margin:auto;
  }

  .hero{
    text-align:center;
    padding:20px;
    border-radius:16px;
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.1);
    box-shadow:0 0 15px rgba(0,255,255,0.15);
  }
  .hero h1{
    font-size:30px;
    color:#00fff7;
  }
  .hero p{
    margin-top:10px;
    color:#cfcfcf;
    font-size:15px;
  }

  /* ======= MENU ======= */
  .menu{
    margin-top:20px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:14px;
  }
  .btn{
    padding:14px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    font-weight:bold;
    font-size:14px;
    color:white;
    background:linear-gradient(45deg,#00ffe7,#0066ff);
    transition:0.2s;
    box-shadow:0 0 12px rgba(0,255,255,0.15);
  }
  .btn:hover{
    transform:scale(1.05);
  }

  /* ======= GAME / PAGE BOX ======= */
  .page{
    margin-top:22px;
    padding:16px;
    border-radius:16px;
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.12);
    display:none;
    animation:fadeIn 0.4s ease;
  }
  @keyframes fadeIn{
    from{opacity:0;transform:scale(0.96);}
    to{opacity:1;transform:scale(1);}
  }

  .page h2{
    margin-bottom:12px;
    color:#00fff7;
  }

  /* ======= GAME CANVAS ======= */
  #gameCanvas{
    width:100%;
    max-width:520px;
    height:520px;
    border-radius:16px;
    background:black;
    border:2px solid rgba(0,255,255,0.3);
    display:block;
    margin:auto;
    box-shadow:0 0 20px rgba(0,255,255,0.15);
  }

  /* ======= JOYSTICK ======= */
  #joystick{
    width:140px;
    height:140px;
    border-radius:50%;
    background:rgba(255,255,255,0.06);
    border:2px solid rgba(0,255,255,0.25);
    position:relative;
    margin:18px auto 0 auto;
    display:none;
    touch-action:none;
  }
  #stick{
    width:55px;
    height:55px;
    background:rgba(0,255,255,0.55);
    border-radius:50%;
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    box-shadow:0 0 15px rgba(0,255,255,0.6);
  }

  /* ======= AI CHAT ======= */
  .chatBox{
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .chatArea{
    height:320px;
    overflow-y:auto;
    padding:12px;
    border-radius:12px;
    background:rgba(0,0,0,0.4);
    border:1px solid rgba(255,255,255,0.1);
  }
  .msg{
    margin-bottom:10px;
    padding:10px;
    border-radius:12px;
    font-size:14px;
    line-height:1.4;
  }
  .userMsg{
    background:rgba(0,255,255,0.15);
    border:1px solid rgba(0,255,255,0.25);
  }
  .aiMsg{
    background:rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.12);
  }
  .chatInputRow{
    display:flex;
    gap:10px;
  }
  #userInput{
    flex:1;
    padding:12px;
    border-radius:12px;
    border:none;
    outline:none;
    font-size:14px;
  }
  #sendBtn{
    padding:12px 16px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    font-weight:bold;
    background:linear-gradient(45deg,#00ffe7,#0066ff);
    color:white;
  }

  /* ======= FOOTER ======= */
  footer{
    margin-top:20px;
    text-align:center;
    color:#999;
    font-size:13px;
    padding:12px;
  }

</style>
</head>

<body>

<canvas id="particles"></canvas>

<header>
  <div class="logo">
    <img src="https://i.ibb.co/q0Qv4Pp/mr7logo.png" alt="MR7">
    <div>
      <h2>MR7 WORLD <span class="badge">âœ”</span></h2>
      <small style="color:#bbb;">Gaming + AI</small>
    </div>
  </div>
  <div id="netStatus" class="status">ðŸŸ¢ Online</div>
</header>

<div class="container">

  <div class="hero">
    <h1>Welcome to MR7 WORLD</h1>
    <p>AI + Gaming + Cool Features. Everything in one place ðŸ˜ŽðŸ”¥</p>
  </div>

  <div class="menu">
    <button class="btn" onclick="openPage('aiPage')">MR7 AI</button>
    <button class="btn" onclick="openGame('snake')">Snake Game</button>
    <button class="btn" onclick="openGame('car')">Car Racing</button>
    <button class="btn" onclick="openGame('space')">Space Shooter</button>
    <button class="btn" onclick="openGame('zombie')">Zombie Survival</button>
    <button class="btn" onclick="openPage('tictacPage')">Tic Tac Toe</button>
  </div>

  <!-- AI PAGE -->
  <div id="aiPage" class="page">
    <h2>MR7 AI (Smart)</h2>

    <div class="chatBox">
      <div id="chatArea" class="chatArea"></div>

      <div class="chatInputRow">
        <input id="userInput" type="text" placeholder="Ask anything... (Hinglish only)" />
        <button id="sendBtn">Send</button>
      </div>
    </div>
  </div>

  <!-- GAME PAGE -->
  <div id="gamePage" class="page">
    <h2 id="gameTitle">Game</h2>
    <canvas id="gameCanvas" width="520" height="520"></canvas>

    <button class="btn" style="margin-top:14px;width:100%;" onclick="startGame()">Start Game</button>

    <div id="joystick">
      <div id="stick"></div>
    </div>
  </div>

  <!-- TIC TAC TOE PAGE -->
  <div id="tictacPage" class="page">
    <h2>Tic Tac Toe (Robot Mode)</h2>
    <p style="margin-bottom:10px;color:#bbb;">You vs Robot ðŸ¤–</p>

    <div id="ticTacBoard" style="display:grid;grid-template-columns:repeat(3,100px);gap:10px;justify-content:center;">
    </div>

    <p id="ticTacStatus" style="text-align:center;margin-top:12px;font-weight:bold;color:#00fff7;"></p>

    <button class="btn" style="margin-top:14px;width:100%;" onclick="resetTicTac()">Restart</button>
  </div>

</div>

<footer>
  Â© MR7 WORLD | Made by Md Rehan
</footer>

<script>
/* =======================
   ONLINE / OFFLINE STATUS
======================= */
function updateNetStatus(){
  const el=document.getElementById("netStatus");
  if(navigator.onLine){
    el.innerText="ðŸŸ¢ Online";
  }else{
    el.innerText="ðŸ”´ Offline";
  }
}
window.addEventListener("online",updateNetStatus);
window.addEventListener("offline",updateNetStatus);
updateNetStatus();

/* =======================
   PARTICLES BACKGROUND
======================= */
const pCanvas=document.getElementById("particles");
const pCtx=pCanvas.getContext("2d");
let dots=[];
function resizeParticles(){
  pCanvas.width=window.innerWidth;
  pCanvas.height=window.innerHeight;
}
window.addEventListener("resize",resizeParticles);
resizeParticles();

function initDots(){
  dots=[];
  for(let i=0;i<80;i++){
    dots.push({
      x:Math.random()*pCanvas.width,
      y:Math.random()*pCanvas.height,
      r:Math.random()*2+1,
      dx:(Math.random()-0.5)*1.5,
      dy:(Math.random()-0.5)*1.5
    });
  }
}
initDots();

function animateParticles(){
  pCtx.clearRect(0,0,pCanvas.width,pCanvas.height);

  for(let d of dots){
    d.x+=d.dx;
    d.y+=d.dy;

    if(d.x<0||d.x>pCanvas.width) d.dx*=-1;
    if(d.y<0||d.y>pCanvas.height) d.dy*=-1;

    pCtx.beginPath();
    pCtx.arc(d.x,d.y,d.r,0,Math.PI*2);
    pCtx.fillStyle="rgba(0,255,255,0.6)";
    pCtx.fill();
  }
  requestAnimationFrame(animateParticles);
}
animateParticles();

/* =======================
   PAGE OPEN SYSTEM
======================= */
function hideAll(){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
}

function openPage(id){
  hideAll();
  document.getElementById(id).style.display="block";
}

let selectedGame=null;
let gameRunning=false;

function openGame(game){
  hideAll();
  document.getElementById("gamePage").style.display="block";
  selectedGame=game;
  gameRunning=false;
  resetAllGames();

  const title=document.getElementById("gameTitle");

  if(game==="snake") title.innerText="Snake Game";
  if(game==="car") title.innerText="Car Racing";
  if(game==="space") title.innerText="Space Shooter";
  if(game==="zombie") title.innerText="Zombie Survival";

  if(window.innerWidth<700){
    document.getElementById("joystick").style.display="block";
  }else{
    document.getElementById("joystick").style.display="none";
  }

  drawStartScreen();
}

/* =======================
   CANVAS BASE
======================= */
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");

/* =======================
   START SCREEN
======================= */
function drawStartScreen(){
  ctx.fillStyle="black";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00fff7";
  ctx.font="28px Arial";
  ctx.fillText("Press Start", canvas.width/2-80, canvas.height/2);
}

/* =======================
   GAME LOOP
======================= */
function startGame(){
  if(!selectedGame) return;
  gameRunning=true;
}

function gameLoop(){
  if(gameRunning){
    if(selectedGame==="snake"){
      updateSnake();
      drawSnake();
    }
    if(selectedGame==="car"){
      updateCar();
      drawCar();
    }
    if(selectedGame==="space"){
      updateSpace();
      drawSpace();
    }
    if(selectedGame==="zombie"){
      updateZombie();
      drawZombie();
    }
  }
  requestAnimationFrame(gameLoop);
}
gameLoop();

/* =======================
   RESET ALL GAMES
======================= */
function resetAllGames(){
  resetSnake();
  resetCar();
  resetSpace();
  resetZombie();
}

/* =======================
   SNAKE GAME (REAL FIX)
======================= */
let snake=[];
let snakeDir="RIGHT";
let food={x:200,y:200};
let snakeScore=0;
let snakeSpeed=8;
let snakeGameOver=false;
let snakeFrame=0;

function resetSnake(){
  snake=[{x:200,y:200},{x:180,y:200},{x:160,y:200}];
  snakeDir="RIGHT";
  food=randomFood();
  snakeScore=0;
  snakeSpeed=8;
  snakeGameOver=false;
  snakeFrame=0;
}

function randomFood(){
  return {
    x:Math.floor(Math.random()*26)*20,
    y:Math.floor(Math.random()*26)*20
  };
}

function updateSnake(){
  if(snakeGameOver) return;

  snakeFrame++;
  if(snakeFrame < snakeSpeed) return;
  snakeFrame=0;

  let head={...snake[0]};
  if(snakeDir==="RIGHT") head.x+=20;
  if(snakeDir==="LEFT") head.x-=20;
  if(snakeDir==="UP") head.y-=20;
  if(snakeDir==="DOWN") head.y+=20;

  if(head.x<0||head.y<0||head.x>=520||head.y>=520){
    snakeGameOver=true;
    return;
  }

  for(let s of snake){
    if(s.x===head.x && s.y===head.y){
      snakeGameOver=true;
      return;
    }
  }

  snake.unshift(head);

  if(head.x===food.x && head.y===food.y){
    snakeScore++;
    food=randomFood();
    if(snakeSpeed>3) snakeSpeed--;
  }else{
    snake.pop();
  }
}

function drawSnake(){
  ctx.fillStyle="black";
  ctx.fillRect(0,0,520,520);

  ctx.fillStyle="lime";
  for(let s of snake){
    ctx.fillRect(s.x,s.y,18,18);
  }

  ctx.fillStyle="red";
  ctx.fillRect(food.x,food.y,18,18);

  ctx.fillStyle="white";
  ctx.font="20px Arial";
  ctx.fillText("Score: "+snakeScore,15,25);

  if(snakeGameOver){
    ctx.fillStyle="white";
    ctx.font="35px Arial";
    ctx.fillText("GAME OVER",140,260);
  }
}

/* =======================
   CAR GAME (REAL FIX)
======================= */
let carX=260;
let roadY=0;
let carSpeed=4;
let nitro=false;
let carScore=0;
let obstacles=[];
let carGameOver=false;

function resetCar(){
  carX=260;
  roadY=0;
  carSpeed=4;
  nitro=false;
  carScore=0;
  obstacles=[];
  carGameOver=false;
}

function spawnObstacle(){
  obstacles.push({
    x:60+Math.random()*380,
    y:-60,
    w:40,
    h:60,
    speed:4+Math.random()*2
  });
}

let carSpawnTimer=0;

function updateCar(){
  if(carGameOver) return;

  roadY += carSpeed;
  if(roadY>40) roadY=0;

  carSpawnTimer++;
  if(carSpawnTimer>50){
    spawnObstacle();
    carSpawnTimer=0;
  }

  obstacles.forEach((o,i)=>{
    o.y += o.speed + (nitro?2:0);

    if(o.y>600){
      obstacles.splice(i,1);
      carScore++;
    }

    if(
      carX<o.x+o.w &&
      carX+40>o.x &&
      450<o.y+o.h &&
      450+70>o.y
    ){
      carGameOver=true;
    }
  });
}

function drawCar(){
  ctx.fillStyle="#111";
  ctx.fillRect(0,0,520,520);

  // Road lines
  ctx.fillStyle="white";
  for(let i=0;i<20;i++){
    ctx.fillRect(255,(i*60+roadY)%520,10,30);
  }

  // Car
  ctx.fillStyle="cyan";
  ctx.fillRect(carX,450,40,70);

  // Obstacles
  ctx.fillStyle="red";
  obstacles.forEach(o=>{
    ctx.fillRect(o.x,o.y,o.w,o.h);
  });

  ctx.fillStyle="white";
  ctx.font="20px Arial";
  ctx.fillText("Score: "+carScore,15,25);

  if(nitro){
    ctx.fillStyle="yellow";
    ctx.fillText("NITRO!",400,25);
  }

  if(carGameOver){
    ctx.fillStyle="white";
    ctx.font="35px Arial";
    ctx.fillText("CRASH!",180,260);
  }
}

/* =======================
   SPACE SHOOTER (REAL FIX)
======================= */
let rocketX=250;
let lasers=[];
let asteroids=[];
let spaceScore=0;
let spaceGameOver=false;

function resetSpace(){
  rocketX=250;
  lasers=[];
  asteroids=[];
  spaceScore=0;
  spaceGameOver=false;
}

function shootLaser(){
  lasers.push({x:rocketX+15,y:460,w:6,h:15,speed:8});
}

function spawnAsteroid(){
  asteroids.push({
    x:Math.random()*480,
    y:-40,
    w:40,
    h:40,
    speed:2+Math.random()*2
  });
}

let asteroidTimer=0;

function updateSpace(){
  if(spaceGameOver) return;

  asteroidTimer++;
  if(asteroidTimer>50){
    spawnAsteroid();
    asteroidTimer=0;
  }

  lasers.forEach((l,i)=>{
    l.y -= l.speed;
    if(l.y<-20) lasers.splice(i,1);
  });

  asteroids.forEach((a,ai)=>{
    a.y += a.speed;

    if(a.y>600){
      asteroids.splice(ai,1);
    }

    // Collision rocket
    if(
      rocketX<a.x+a.w &&
      rocketX+35>a.x &&
      460<a.y+a.h &&
      460+50>a.y
    ){
      spaceGameOver=true;
    }

    // Laser hit
    lasers.forEach((l,li)=>{
      if(
        l.x<a.x+a.w &&
        l.x+l.w>a.x &&
        l.y<a.y+a.h &&
        l.y+l.h>a.y
      ){
        lasers.splice(li,1);
        asteroids.splice(ai,1);
        spaceScore++;
      }
    });
  });
}

function drawSpace(){
  ctx.fillStyle="black";
  ctx.fillRect(0,0,520,520);

  // Stars
  for(let i=0;i<30;i++){
    ctx.fillStyle="white";
    ctx.fillRect(Math.random()*520,Math.random()*520,2,2);
  }

  // Rocket
  ctx.fillStyle="cyan";
  ctx.fillRect(rocketX,460,35,50);

  // Lasers
  ctx.fillStyle="lime";
  lasers.forEach(l=>{
    ctx.fillRect(l.x,l.y,l.w,l.h);
  });

  // Asteroids
  ctx.fillStyle="red";
  asteroids.forEach(a=>{
    ctx.beginPath();
    ctx.arc(a.x+20,a.y+20,20,0,Math.PI*2);
    ctx.fill();
  });

  ctx.fillStyle="white";
  ctx.font="20px Arial";
  ctx.fillText("Score: "+spaceScore,15,25);

  if(spaceGameOver){
    ctx.fillStyle="white";
    ctx.font="35px Arial";
    ctx.fillText("GAME OVER",140,260);
  }
}

/* =======================
   ZOMBIE GAME (REAL FIX)
======================= */
let playerX=250;
let bullets=[];
let zombies=[];
let zombieScore=0;
let zombieGameOver=false;

function resetZombie(){
  playerX=250;
  bullets=[];
  zombies=[];
  zombieScore=0;
  zombieGameOver=false;
}

function spawnZombie(){
  zombies.push({
    x:Math.random()*470,
    y:-50,
    w:40,
    h:50,
    speed:1+Math.random()*2,
    hp:3
  });
}

function shootBulletZombie(){
  bullets.push({x:playerX+15,y:450,w:6,h:12,speed:7});
}

let zombieTimer=0;

function updateZombie(){
  if(zombieGameOver) return;

  zombieTimer++;
  if(zombieTimer>55){
    spawnZombie();
    zombieTimer=0;
  }

  bullets.forEach((b,i)=>{
    b.y -= b.speed;
    if(b.y<-20) bullets.splice(i,1);
  });

  zombies.forEach((z,zi)=>{
    z.y += z.speed;

    if(z.y>520) zombieGameOver=true;

    if(
      playerX<z.x+z.w &&
      playerX+35>z.x &&
      450<z.y+z.h &&
      450+45>z.y
    ){
      zombieGameOver=true;
    }

    bullets.forEach((b,bi)=>{
      if(
        b.x<z.x+z.w &&
        b.x+b.w>z.x &&
        b.y<z.y+z.h &&
        b.y+b.h>z.y
      ){
        bullets.splice(bi,1);
        z.hp--;
        if(z.hp<=0){
          zombies.splice(zi,1);
          zombieScore++;
        }
      }
    });
  });
}

function drawZombie(){
  ctx.fillStyle="#050505";
  ctx.fillRect(0,0,520,520);

  // Player
  ctx.fillStyle="lime";
  ctx.fillRect(playerX,450,35,45);

  // Bullets
  ctx.fillStyle="yellow";
  bullets.forEach(b=>{
    ctx.fillRect(b.x,b.y,b.w,b.h);
  });

  // Zombies
  zombies.forEach(z=>{
    ctx.fillStyle="red";
    ctx.fillRect(z.x,z.y,z.w,z.h);

    ctx.fillStyle="lime";
    ctx.fillRect(z.x,z.y-6,(z.hp/3)*z.w,5);
  });

  ctx.fillStyle="white";
  ctx.font="20px Arial";
  ctx.fillText("Score: "+zombieScore,15,25);

  if(zombieGameOver){
    ctx.fillStyle="white";
    ctx.font="35px Arial";
    ctx.fillText("GAME OVER",140,260);
  }
}

/* =======================
   KEYBOARD CONTROLS
======================= */
document.addEventListener("keydown",(e)=>{
  if(!gameRunning) return;

  if(selectedGame==="snake"){
    if(e.key==="ArrowUp" && snakeDir!=="DOWN") snakeDir="UP";
    if(e.key==="ArrowDown" && snakeDir!=="UP") snakeDir="DOWN";
    if(e.key==="ArrowLeft" && snakeDir!=="RIGHT") snakeDir="LEFT";
    if(e.key==="ArrowRight" && snakeDir!=="LEFT") snakeDir="RIGHT";
  }

  if(selectedGame==="car"){
    if(e.key==="ArrowLeft") carX -= 25;
    if(e.key==="ArrowRight") carX += 25;
    if(e.key==="Shift") nitro=true;

    if(carX<60) carX=60;
    if(carX>420) carX=420;
  }

  if(selectedGame==="space"){
    if(e.key==="ArrowLeft") rocketX -= 25;
    if(e.key==="ArrowRight") rocketX += 25;
    if(e.key===" " || e.key==="Enter") shootLaser();

    if(rocketX<0) rocketX=0;
    if(rocketX>485) rocketX=485;
  }

  if(selectedGame==="zombie"){
    if(e.key==="ArrowLeft") playerX -= 25;
    if(e.key==="ArrowRight") playerX += 25;
    if(e.key===" " || e.key==="Enter") shootBulletZombie();

    if(playerX<0) playerX=0;
    if(playerX>485) playerX=485;
  }
});

document.addEventListener("keyup",(e)=>{
  if(selectedGame==="car"){
    if(e.key==="Shift") nitro=false;
  }
});

/* =======================
   MOBILE JOYSTICK
======================= */
const joystick=document.getElementById("joystick");
const stick=document.getElementById("stick");

let joyActive=false;
let joyCenterX=0;
let joyCenterY=0;

joystick.addEventListener("touchstart",(e)=>{
  joyActive=true;
  const rect=joystick.getBoundingClientRect();
  joyCenterX=rect.left+rect.width/2;
  joyCenterY=rect.top+rect.height/2;
});

joystick.addEventListener("touchmove",(e)=>{
  if(!joyActive) return;

  let touch=e.touches[0];
  let dx=touch.clientX-joyCenterX;
  let dy=touch.clientY-joyCenterY;

  let maxDist=50;
  let dist=Math.sqrt(dx*dx+dy*dy);

  if(dist>maxDist){
    dx=(dx/dist)*maxDist;
    dy=(dy/dist)*maxDist;
  }

  stick.style.transform=`translate(${dx}px,${dy}px)`;

  if(selectedGame==="car"){
    if(dx>10) carX+=6;
    if(dx<-10) carX-=6;
    if(carX<60) carX=60;
    if(carX>420) carX=420;
  }

  if(selectedGame==="space"){
    if(dx>10) rocketX+=6;
    if(dx<-10) rocketX-=6;
    if(rocketX<0) rocketX=0;
    if(rocketX>485) rocketX=485;
  }

  if(selectedGame==="zombie"){
    if(dx>10) playerX+=6;
    if(dx<-10) playerX-=6;
    if(playerX<0) playerX=0;
    if(playerX>485) playerX=485;
  }

  if(selectedGame==="snake"){
    if(dx>20) snakeDir="RIGHT";
    if(dx<-20) snakeDir="LEFT";
    if(dy>20) snakeDir="DOWN";
    if(dy<-20) snakeDir="UP";
  }

  e.preventDefault();
});

joystick.addEventListener("touchend",()=>{
  joyActive=false;
  stick.style.transform="translate(-50%,-50%)";
});

/* =======================
   TIC TAC TOE (ROBOT)
======================= */
let board=["","","","","","","","",""];
let player="X";
let robot="O";
let gameOver=false;

const ticTacBoard=document.getElementById("ticTacBoard");
const ticTacStatus=document.getElementById("ticTacStatus");

function createBoard(){
  ticTacBoard.innerHTML="";
  for(let i=0;i<9;i++){
    const cell=document.createElement("div");
    cell.style.width="100px";
    cell.style.height="100px";
    cell.style.display="flex";
    cell.style.alignItems="center";
    cell.style.justifyContent="center";
    cell.style.fontSize="40px";
    cell.style.fontWeight="bold";
    cell.style.borderRadius="12px";
    cell.style.background="rgba(255,255,255,0.06)";
    cell.style.border="1px solid rgba(255,255,255,0.15)";
    cell.style.cursor="pointer";
    cell.innerText=board[i];

    cell.onclick=()=>playerMove(i);
    ticTacBoard.appendChild(cell);
  }
}

function checkWinner(){
  const winComb=[
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];

  for(let w of winComb){
    const [a,b,c]=w;
    if(board[a] && board[a]===board[b] && board[a]===board[c]){
      return board[a];
    }
  }

  if(board.every(x=>x!=="")) return "draw";
  return null;
}

function playerMove(i){
  if(gameOver) return;
  if(board[i] !== "") return;

  board[i]=player;
  createBoard();

  let win=checkWinner();
  if(win){
    endTicTac(win);
    return;
  }

  setTimeout(robotMove,400);
}

function robotMove(){
  if(gameOver) return;

  let emptyIndexes=board.map((v,i)=>v===""?i:null).filter(v=>v!==null);

  // Simple smart robot
  let move = emptyIndexes[Math.floor(Math.random()*emptyIndexes.length)];
  board[move]=robot;

  createBoard();

  let win=checkWinner();
  if(win){
    endTicTac(win);
  }
}

function endTicTac(win){
  gameOver=true;
  if(win==="draw"){
    ticTacStatus.innerText="Draw ðŸ˜";
  }else if(win==="X"){
    ticTacStatus.innerText="You Win ðŸ˜ŽðŸ”¥";
  }else{
    ticTacStatus.innerText="Robot Win ðŸ¤–";
  }
}

function resetTicTac(){
  board=["","","","","","","","",""];
  gameOver=false;
  ticTacStatus.innerText="";
  createBoard();
}
createBoard();

/* =======================
   MR7 AI SMART (OFFLINE)
======================= */
const chatArea=document.getElementById("chatArea");
const userInput=document.getElementById("userInput");
const sendBtn=document.getElementById("sendBtn");

function addMessage(text,type){
  const div=document.createElement("div");
  div.className="msg "+type;
  div.innerText=text;
  chatArea.appendChild(div);
  chatArea.scrollTop=chatArea.scrollHeight;
}

function smartReply(q){
  q=q.toLowerCase();

  if(q.includes("weather") || q.includes("mausam")){
    return "Boss weather dekhne ke liye tum location allow karo ya Google Weather use karo. Agar city name bolo to main guess based info bata dunga ðŸ˜Ž";
  }

  if(q.includes("who is") || q.includes("what is") || q.includes("define")){
    return "Nice question ðŸ˜Ž Explain kar deta hu: " + q + " ka meaning generally information based hota hai. Agar tum thoda clear likho main full detail de dunga.";
  }

  if(q.includes("python") || q.includes("coding")){
    return "Coding mode ON ðŸ”¥ Tum jo bhi python code bhejoge main full correct + explain karke de dunga.";
  }

  if(q.includes("game") || q.includes("free fire") || q.includes("pubg")){
    return "Bro Free Fire type 3D game browser me banana possible hai but heavy hota hai. Main tumhare liye mini 3D shooting game version bana sakta hu ðŸ˜ˆðŸ”¥";
  }

  if(q.includes("hello") || q.includes("hi")){
    return "Hello Boss ðŸ˜Ž MR7 AI ready hai. Kuch bhi puch le!";
  }

  return "Boss main samjh gaya ðŸ˜ŽðŸ”¥ Tum thoda clear detail do, main full answer + solution de dunga.";
}

sendBtn.onclick=()=>{
  let msg=userInput.value.trim();
  if(!msg) return;

  addMessage("You: "+msg,"userMsg");
  userInput.value="";

  setTimeout(()=>{
    addMessage("MR7 AI: "+smartReply(msg),"aiMsg");
  },400);
};

userInput.addEventListener("keydown",(e)=>{
  if(e.key==="Enter"){
    sendBtn.click();
  }
});

</script>

</body>
</html>
