<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MR7 WORLD - Gaming + AI</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:Segoe UI, Arial;
  background:#000;
  color:#fff;
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none;}

:root{
  --neon:#00ff00;
  --dark:#060606;
}

header{
  width:100%;
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:2px solid rgba(0,255,0,0.3);
  background:rgba(0,0,0,0.8);
  position:sticky;
  top:0;
  z-index:1000;
}

.logo{
  font-size:22px;
  font-weight:bold;
  color:var(--neon);
  text-shadow:0 0 10px var(--neon);
}

.logo span{
  font-size:14px;
  color:#fff;
  opacity:0.8;
}

.status{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  color:#fff;
}
.dot{
  width:12px;
  height:12px;
  border-radius:50%;
  background:lime;
  box-shadow:0 0 10px lime;
}

.menuBtn{
  font-size:26px;
  cursor:pointer;
  color:var(--neon);
}

.sidebar{
  position:fixed;
  top:0;
  right:-280px;
  width:280px;
  height:100%;
  background:rgba(0,0,0,0.95);
  border-left:2px solid rgba(0,255,0,0.4);
  padding:20px;
  transition:0.4s;
  z-index:2000;
}

.sidebar.active{right:0;}

.sidebar h2{
  color:var(--neon);
  margin-bottom:15px;
  text-shadow:0 0 10px var(--neon);
}

.searchBox{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(0,255,0,0.5);
  background:#111;
  color:#fff;
  outline:none;
  margin-bottom:15px;
}

.sidebar button{
  width:100%;
  padding:12px;
  margin:7px 0;
  border:none;
  border-radius:12px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px var(--neon);
  transition:0.3s;
}
.sidebar button:hover{transform:scale(1.05);}

.closeBtn{
  background:red !important;
  color:white !important;
  box-shadow:0 0 15px red !important;
}

.container{
  padding:25px;
  text-align:center;
}

.page{
  display:none;
  animation:fadeIn 0.4s ease;
}
.page.active{display:block;}

@keyframes fadeIn{
  from{opacity:0;transform:scale(0.95);}
  to{opacity:1;transform:scale(1);}
}

.hero{
  margin-top:30px;
}
.hero h1{
  font-size:32px;
  color:var(--neon);
  text-shadow:0 0 20px var(--neon);
}
.hero p{
  margin-top:10px;
  opacity:0.8;
  font-size:16px;
}

.card{
  width:min(700px,95%);
  margin:30px auto;
  padding:20px;
  border-radius:20px;
  background:rgba(0,0,0,0.75);
  border:2px solid rgba(0,255,0,0.4);
  box-shadow:0 0 30px rgba(0,255,0,0.2);
}

.btn{
  padding:12px 20px;
  border:none;
  border-radius:12px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px var(--neon);
  margin:8px;
  transition:0.3s;
}
.btn:hover{transform:scale(1.05);}

.footer{
  margin-top:40px;
  opacity:0.6;
  font-size:13px;
}

canvas{
  border-radius:18px;
  border:2px solid rgba(0,255,0,0.6);
  box-shadow:0 0 30px rgba(0,255,0,0.4);
  background:#050505;
}

.chatBox{
  width:100%;
  height:260px;
  overflow-y:auto;
  text-align:left;
  padding:15px;
  border-radius:15px;
  background:#0a0a0a;
  border:1px solid rgba(0,255,0,0.4);
  margin-bottom:10px;
}

.msgAI{color:#00ff00;font-weight:bold;}
.msgUser{color:#00ccff;font-weight:bold;}

.input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(0,255,0,0.5);
  background:#111;
  color:#fff;
  outline:none;
}

.particles{
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  z-index:-1;
  overflow:hidden;
}

.particles span{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:rgba(0,255,0,0.7);
  animation:float 10s linear infinite;
}

@keyframes float{
  from{transform:translateY(100vh) scale(0.5);opacity:0;}
  to{transform:translateY(-20vh) scale(1.2);opacity:1;}
}

.fullscreenBtn{
  position:fixed;
  bottom:15px;
  right:15px;
  z-index:9999;
  padding:12px 16px;
  border-radius:14px;
  background:var(--neon);
  color:#000;
  font-weight:bold;
  border:none;
  cursor:pointer;
  box-shadow:0 0 15px var(--neon);
}
</style>
</head>

<body>

<!-- BACKGROUND PARTICLES -->
<div class="particles" id="particles"></div>

<header>
  <div class="logo">MR7 WORLD <span>‚úî Verified</span></div>

  <div class="status">
    <div class="dot" id="statusDot"></div>
    <div id="statusText">Online</div>
  </div>

  <div class="menuBtn" onclick="toggleMenu()">‚ãÆ</div>
</header>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h2>Menu</h2>

  <input class="searchBox" id="searchMenu" placeholder="Search page..." onkeyup="searchPages()" />

  <button onclick="openPage('home')">üè† Home</button>
  <button onclick="openPage('ai')">ü§ñ MR7 AI</button>
  <button onclick="openPage('snake')">üêç Snake Game</button>
  <button onclick="openPage('car')">üöó Car Racing</button>
  <button onclick="openPage('profile')">üë§ Profile</button>
  <button onclick="openPage('settings')">‚öô Settings</button>
  <button class="closeBtn" onclick="toggleMenu()">Close</button>
</div>

<!-- FULLSCREEN BUTTON -->
<button class="fullscreenBtn" onclick="goFullscreen()">üì± Fullscreen</button>

<div class="container">

  <!-- HOME -->
  <div class="page active" id="home">
    <div class="hero">
      <h1>Welcome to MR7 WORLD</h1>
      <p>Gaming + AI + Cool Features üòéüî•</p>
    </div>

    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">Quick Access</h2>
      <br>
      <button class="btn" onclick="openPage('ai')">Open MR7 AI</button>
      <button class="btn" onclick="openPage('snake')">Play Snake</button>
      <button class="btn" onclick="openPage('car')">Play Car Racing</button>
    </div>

    <div class="footer">¬© 2026 MR7 WORLD | Created by MR7</div>
  </div>

  <!-- AI PAGE -->
  <div class="page" id="ai">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">MR7 AI Chat</h2>
      <br>

      <input class="input" id="apiKey" placeholder="Paste OpenAI API Key (sk-...)" />
      <br><br>

      <div class="chatBox" id="chatBox">
        <div class="msgAI">AI: Hello Boss üòé Ask me anything!</div>
      </div>

      <input class="input" id="userInput" placeholder="Type your message..." />

      <br><br>
      <button class="btn" onclick="sendMessage()">Send</button>
      <button class="btn" onclick="clearChat()">Clear</button>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

  <!-- SNAKE -->
  <div class="page" id="snake">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üêç MR7 Snake Game</h2>
      <p style="opacity:0.8;margin-top:8px;">Use Arrow Keys | Score auto saved</p>
      <br>
      <div id="snakeScore" style="font-size:18px;color:var(--neon);">Score: 0 | HighScore: 0</div>
      <br>
      <button class="btn" onclick="startSnake()">Start Game</button>
      <button class="btn" onclick="openPage('home')">Back</button>
      <br><br>
      <canvas id="snakeCanvas" width="420" height="420"></canvas>
    </div>
  </div>

  <!-- CAR -->
  <div class="page" id="car">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üöó MR7 Car Racing</h2>
      <p style="opacity:0.8;margin-top:8px;">Steering + Nitro + Boost</p>
      <br>
      <div id="carStats" style="font-size:18px;color:var(--neon);">Score: 0 | HighScore: 0 | Speed: 5</div>
      <br>
      <button class="btn" onclick="startCar()">Start Game</button>
      <button class="btn" onclick="openPage('home')">Back</button>
      <br><br>
      <canvas id="carCanvas" width="420" height="520"></canvas>
      <br><br>
      <button class="btn" onclick="useNitro()">üî• Nitro</button>
    </div>
  </div>

  <!-- PROFILE -->
  <div class="page" id="profile">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">üë§ Profile</h2>
      <p style="margin-top:10px;">MR7 WORLD Verified User ‚úî</p>

      <br>
      <button class="btn" onclick="window.open('https://instagram.com','_blank')">Instagram</button>
      <button class="btn" onclick="window.open('https://youtube.com','_blank')">YouTube</button>
      <button class="btn" onclick="window.open('https://wa.me/','_blank')">WhatsApp</button>

      <br><br>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

  <!-- SETTINGS -->
  <div class="page" id="settings">
    <div class="card">
      <h2 style="color:var(--neon);text-shadow:0 0 10px var(--neon);">‚öô Settings</h2>
      <br>

      <button class="btn" onclick="toggleTheme()">Change Theme</button>
      <button class="btn" onclick="resetScores()">Reset Scores</button>

      <br><br>
      <button class="btn" onclick="openPage('home')">Back</button>
    </div>
  </div>

</div>

<script>
/* PARTICLES BACKGROUND */
const particleBox = document.getElementById("particles");
for(let i=0;i<60;i++){
  let dot=document.createElement("span");
  dot.style.left=Math.random()*100+"%";
  dot.style.top=Math.random()*100+"%";
  dot.style.animationDuration=(6+Math.random()*10)+"s";
  dot.style.opacity=Math.random();
  particleBox.appendChild(dot);
}

/* ONLINE OFFLINE STATUS */
function updateStatus(){
  const statusText=document.getElementById("statusText");
  const statusDot=document.getElementById("statusDot");
  if(navigator.onLine){
    statusText.innerText="Online";
    statusDot.style.background="lime";
    statusDot.style.boxShadow="0 0 10px lime";
  }else{
    statusText.innerText="Offline";
    statusDot.style.background="red";
    statusDot.style.boxShadow="0 0 10px red";
  }
}
window.addEventListener("online",updateStatus);
window.addEventListener("offline",updateStatus);
updateStatus();

/* SIDEBAR */
function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("active");
}

/* PAGE OPEN */
function openPage(pageId){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");
  document.getElementById("sidebar").classList.remove("active");
}

/* SEARCH MENU */
function searchPages(){
  let val=document.getElementById("searchMenu").value.toLowerCase();
  document.querySelectorAll("#sidebar button").forEach(btn=>{
    if(btn.innerText.toLowerCase().includes(val) || val===""){
      btn.style.display="block";
    }else{
      btn.style.display="none";
    }
  });
}

/* FULLSCREEN */
function goFullscreen(){
  if(document.documentElement.requestFullscreen){
    document.documentElement.requestFullscreen();
  }
}

/* THEME */
let theme=0;
function toggleTheme(){
  theme++;
  if(theme%2===1){
    document.body.style.background="#ffffff";
    document.body.style.color="#000";
  }else{
    document.body.style.background="#000";
    document.body.style.color="#fff";
  }
}

/* RESET SCORES */
function resetScores(){
  localStorage.removeItem("mr7_snake_high");
  localStorage.removeItem("mr7_car_high");
  alert("Scores Reset Done!");
}

/* --------------------- SNAKE GAME --------------------- */
let snakeInterval=null;
let snakeRunning=false;

function startSnake(){
  if(snakeRunning) return;
  snakeRunning=true;

  const canvas=document.getElementById("snakeCanvas");
  const ctx=canvas.getContext("2d");

  const box=20;
  let snake=[{x:200,y:200}];
  let dir="RIGHT";

  let score=0;
  let high=localStorage.getItem("mr7_snake_high") ? parseInt(localStorage.getItem("mr7_snake_high")) : 0;

  let food={
    x:Math.floor(Math.random()*20)*box,
    y:Math.floor(Math.random()*20)*box
  };

  function updateScore(){
    document.getElementById("snakeScore").innerText=`Score: ${score} | HighScore: ${high}`;
  }
  updateScore();

  document.onkeydown=(e)=>{
    if(e.key==="ArrowLeft" && dir!=="RIGHT") dir="LEFT";
    if(e.key==="ArrowUp" && dir!=="DOWN") dir="UP";
    if(e.key==="ArrowRight" && dir!=="LEFT") dir="RIGHT";
    if(e.key==="ArrowDown" && dir!=="UP") dir="DOWN";
  };

  function collision(head,array){
    return array.some(p=>p.x===head.x && p.y===head.y);
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // grid glow effect
    for(let x=0;x<canvas.width;x+=box){
      for(let y=0;y<canvas.height;y+=box){
        ctx.strokeStyle="rgba(0,255,0,0.06)";
        ctx.strokeRect(x,y,box,box);
      }
    }

    // snake
    for(let i=0;i<snake.length;i++){
      ctx.fillStyle=i===0 ? "#00ff00" : "#00aa00";
      ctx.fillRect(snake[i].x,snake[i].y,box,box);
      ctx.shadowColor="#00ff00";
      ctx.shadowBlur=10;
    }
    ctx.shadowBlur=0;

    // food
    ctx.fillStyle="red";
    ctx.beginPath();
    ctx.arc(food.x+10,food.y+10,8,0,Math.PI*2);
    ctx.fill();

    let headX=snake[0].x;
    let headY=snake[0].y;

    if(dir==="LEFT") headX-=box;
    if(dir==="RIGHT") headX+=box;
    if(dir==="UP") headY-=box;
    if(dir==="DOWN") headY+=box;

    // eat
    if(headX===food.x && headY===food.y){
      score++;
      if(score>high){
        high=score;
        localStorage.setItem("mr7_snake_high",high);
      }
      food={
        x:Math.floor(Math.random()*20)*box,
        y:Math.floor(Math.random()*20)*box
      };
    }else{
      snake.pop();
    }

    const newHead={x:headX,y:headY};

    // game over
    if(headX<0||headY<0||headX>=canvas.width||headY>=canvas.height||collision(newHead,snake)){
      clearInterval(snakeInterval);
      snakeRunning=false;
      alert("Game Over! Score: "+score);
      return;
    }

    snake.unshift(newHead);
    updateScore();
  }

  snakeInterval=setInterval(draw,110);
}

/* --------------------- CAR GAME --------------------- */
let carInterval=null;
let carRunning=false;
let nitroActive=false;

function startCar(){
  if(carRunning) return;
  carRunning=true;

  const canvas=document.getElementById("carCanvas");
  const ctx=canvas.getContext("2d");

  let score=0;
  let high=localStorage.getItem("mr7_car_high") ? parseInt(localStorage.getItem("mr7_car_high")) : 0;

  let speed=5;
  let carX=190;
  let carY=420;

  let obstacles=[];
  let left=false,right=false;

  function updateStats(){
    document.getElementById("carStats").innerText=`Score: ${score} | HighScore: ${high} | Speed: ${speed}`;
  }
  updateStats();

  document.onkeydown=(e)=>{
    if(e.key==="ArrowLeft") left=true;
    if(e.key==="ArrowRight") right=true;
  };
  document.onkeyup=(e)=>{
    if(e.key==="ArrowLeft") left=false;
    if(e.key==="ArrowRight") right=false;
  };

  function spawnObstacle(){
    obstacles.push({
      x:Math.random()*340+40,
      y:-60,
      w:40,
      h:60
    });
  }

  function drawRoad(){
    ctx.fillStyle="#111";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // road lines
    ctx.strokeStyle="rgba(0,255,0,0.2)";
    ctx.lineWidth=4;
    for(let y=0;y<canvas.height;y+=40){
      ctx.beginPath();
      ctx.moveTo(canvas.width/2,y);
      ctx.lineTo(canvas.width/2,y+20);
      ctx.stroke();
    }
  }

  function drawCar(){
    ctx.fillStyle="#00ff00";
    ctx.shadowColor="#00ff00";
    ctx.shadowBlur=20;
    ctx.fillRect(carX,carY,40,70);
    ctx.shadowBlur=0;

    // car windows
    ctx.fillStyle="#000";
    ctx.fillRect(carX+8,carY+10,24,18);
  }

  function drawObstacles(){
    ctx.fillStyle="red";
    obstacles.forEach(o=>{
      ctx.fillRect(o.x,o.y,o.w,o.h);
    });
  }

  function update(){
    drawRoad();

    if(left) carX-=7;
    if(right) carX+=7;

    if(carX<10) carX=10;
    if(carX>canvas.width-50) carX=canvas.width-50;

    if(Math.random()<0.03) spawnObstacle();

    obstacles.forEach(o=>{
      o.y+=speed;
    });

    obstacles=obstacles.filter(o=>o.y<canvas.height+80);

    // collision
    for(let o of obstacles){
      if(carX<o.x+o.w && carX+40>o.x && carY<o.y+o.h && carY+70>o.y){
        clearInterval(carInterval);
        carRunning=false;
        alert("Game Over! Score: "+score);
        return;
      }
    }

    score++;
    if(score>high){
      high=score;
      localStorage.setItem("mr7_car_high",high);
    }

    if(score%300===0) speed++;

    updateStats();
    drawObstacles();
    drawCar();
  }

  carInterval=setInterval(update,30);
}

/* NITRO */
function useNitro(){
  if(!carRunning) return;
  if(nitroActive) return;

  nitroActive=true;
  let oldText=document.getElementById("carStats").innerText;
  let oldSpeedText = oldText;

  let boost=8;
  let oldSpeed=5;

  // temporary boost
  let speedBackup = document.getElementById("carStats").innerText;

  alert("Nitro Activated üî•");
  setTimeout(()=>{
    nitroActive=false;
    alert("Nitro Ended!");
  },3000);
}

/* --------------------- MR7 AI CHATGPT API --------------------- */
async function sendMessage(){
  const chatBox=document.getElementById("chatBox");
  const input=document.getElementById("userInput");
  const apiKey=document.getElementById("apiKey").value.trim();

  let userText=input.value.trim();
  if(userText==="") return;

  chatBox.innerHTML += `<div class="msgUser">You: ${userText}</div>`;
  input.value="";

  // if no key
  if(apiKey==="" || !apiKey.startsWith("sk-")){
    chatBox.innerHTML += `<div class="msgAI">AI: Boss please paste your OpenAI API key (sk-...) to activate real AI.</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
    return;
  }

  chatBox.innerHTML += `<div class="msgAI" id="typing">AI: typing...</div>`;
  chatBox.scrollTop=chatBox.scrollHeight;

  try{
    const response = await fetch("https://api.openai.com/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer "+apiKey
      },
      body:JSON.stringify({
        model:"gpt-4o-mini",
        messages:[
          {role:"system",content:"You are MR7 AI. Always reply in Hinglish only. No pure Hindi words. Be friendly and helpful."},
          {role:"user",content:userText}
        ],
        max_tokens:200
      })
    });

    const data = await response.json();
    document.getElementById("typing").remove();

    let reply = data.choices?.[0]?.message?.content || "Boss something went wrong!";
    chatBox.innerHTML += `<div class="msgAI">AI: ${reply}</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;

  }catch(err){
    document.getElementById("typing").remove();
    chatBox.innerHTML += `<div class="msgAI">AI: Error! API not working. Check internet or API key.</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
  }
}

function clearChat(){
  document.getElementById("chatBox").innerHTML = `<div class="msgAI">AI: Hello Boss üòé Ask me anything!</div>`;
}
</script>

</body>
</html>
